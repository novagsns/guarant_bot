async def my_ads(message: Message, sessionmaker: async_sessionmaker) -> None:

    """Handle my ads.



    Args:

        message: Value for message.

        sessionmaker: Value for sessionmaker.

    """

    async with sessionmaker() as session:

        result = await session.execute(

            select(Ad, Game)

            .join(Game, Game.id == Ad.game_id)

            .where(

                Ad.seller_id == message.from_user.id,

                Ad.ad_kind == "sale",

            )

            .order_by(Ad.created_at.desc())

        )

        rows = result.all()



    if not rows:

        await message.answer("–ü–æ–∫–∞ –Ω–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–π.")

        return



    for ad, game in rows:

        status = ad.moderation_status

        if status == "pending":

            status_label = "–Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏"

        elif status == "rejected":

            status_label = "–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ"

        else:

            status_label = "–∞–∫—Ç–∏–≤–Ω–æ" if ad.active else "–Ω–µ –∞–∫—Ç–∏–≤–Ω–æ"

        caption = (

            f"<b>{ad.title}</b>\n"

            f"üéÆ –ò–≥—Ä–∞: {game.name}\n"

            f"üí∞ –¶–µ–Ω–∞: {ad.price} ‚ÇΩ\n"

            f"üìå –°—Ç–∞—Ç—É—Å: {status_label}\n\n"

            f"{ad.description}"

        )

        await message.answer(caption, reply_markup=my_ad_kb(ad.id, ad.active))





@router.callback_query